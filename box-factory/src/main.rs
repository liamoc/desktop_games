extern crate tesserae;
extern crate sdl2;


use tesserae::{*};
use sdl2::event::Event;
use sdl2::keyboard::Keycode;
use utils::framerate::FPSManager;
use sdl2::render::TextureCreator;
use sdl2::render::RenderTarget;
use sdl2::render::Texture;
use sdl2::render::Canvas;
use utils::color::{*};
use sdl2::rect::{Rect};
use utils::menu::{*};
use std::io::Cursor;
use utils::{*};

#[derive(Copy, Clone, Debug, PartialEq, Eq)]
enum Direction { N, S, E, W }
impl Direction {
    fn opposite(&self) -> Direction {
        match *self {
            Self::N => Self::S,
            Self::S => Self::N,
            Self::E => Self::W,
            Self::W => Self::E,
        }
    }
    fn move_point (&self, p: (i32,i32)) -> (i32,i32) {
        match *self {
            Self::N => (p.0,p.1-1),
            Self::S => (p.0,p.1+1),
            Self::E => (p.0+1,p.1),
            Self::W => (p.0-1,p.1),
        }
    }
    fn to_index(&self) -> usize {
        match *self {
            Self::E => 1,
            Self::N => 2,
            Self::W => 3,
            Self::S => 4,
        }
    }
}
#[derive(Copy, Clone, Debug, PartialEq, Eq)]
enum GameObject { GoalBox, Box, Block, Goal, Floor,Player, GoalPlayer }


struct Game<'r> {
    player: (i32,i32),
    tile_set: TileSet,
    tiles: [[Option<GameObject>;HEIGHT as usize];WIDTH as usize],
    player_gfx: OutlinedTile<'r>,
    block: Graphic<Texture<'r>>,
    push_box: Graphic<Texture<'r>>,
    goal: OutlinedTile<'r>,
    good_box: Graphic<Texture<'r>>,
    cursor_gfx: [OutlinedTile<'r>;9],
    history: Vec<(Direction,bool)>,
    won_level: bool,
    score: u32,
}


const WIDTH : u32 = 16;
const HEIGHT : u32 = 16;

fn load_from_vec(gfx:&[u8]) -> [[Option<GameObject>;HEIGHT as usize];WIDTH as usize] {
    let mut ret = [[None;HEIGHT as usize];WIDTH as usize];
    let mut p = 0;
    
    for i in 0..WIDTH {
        for j in 0..HEIGHT {
            if p >= gfx.len() { return ret }
            ret[i as usize][j as usize] = match gfx[p] {
                1 => Some(GameObject::Block),
                2 => Some(GameObject::Floor),
                3 => Some(GameObject::Box),
                4 => Some(GameObject::GoalBox),
                5 => Some(GameObject::Player),
                6 => Some(GameObject::GoalPlayer),
                7 => Some(GameObject::Goal),                
                _ => None,
            };
            p += 1;
        }
    }
    ret
}
struct Level {
    map: [[Option<GameObject>;HEIGHT as usize];WIDTH as usize],
}
const LEVELS : [[u8;224];100] = [
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,7,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,3,2,3,7,1,0,0,0,0,0,0,0,0,1,7,2,3,5,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,3,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,7,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,5,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,3,3,1,0,1,1,1,0,0,0,0,0,0,0,1,2,3,2,1,0,1,7,1,0,0,0,0,0,0,0,1,1,1,2,1,1,1,7,1,0,0,0,0,0,0,0,0,1,1,2,2,2,2,7,1,0,0,0,0,0,0,0,0,1,2,2,2,1,2,2,1,0,0,0,0,0,0,0,0,1,2,2,2,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,1,1,0,0,0,0,0,0,1,1,3,1,1,1,2,2,2,1,0,0,0,0,0,0,1,2,5,2,3,2,2,3,2,1,0,0,0,0,0,0,1,2,7,7,1,2,3,2,1,1,0,0,0,0,0,0,1,1,7,7,1,2,2,2,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,5,3,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,3,2,1,1,0,0,0,0,0,0,0,0,0,0,1,1,2,3,2,1,0,0,0,0,0,0,0,0,0,0,1,7,3,2,2,1,0,0,0,0,0,0,0,0,0,0,1,7,7,4,7,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,5,2,1,1,1,0,0,0,0,0,0,0,0,0,0,1,2,3,2,2,1,0,0,0,0,0,0,0,0,0,1,1,1,2,1,2,1,1,0,0,0,0,0,0,0,0,1,7,1,2,1,2,2,1,0,0,0,0,0,0,0,0,1,7,3,2,2,1,2,1,0,0,0,0,0,0,0,0,1,7,2,2,2,3,2,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,2,2,2,2,2,1,0,0,0,0,0,0,1,2,2,2,7,1,1,1,2,1,0,0,0,0,0,0,1,2,1,2,1,2,2,2,2,1,1,0,0,0,0,0,1,2,1,2,3,2,3,1,7,2,1,0,0,0,0,0,1,2,1,2,2,4,2,2,1,2,1,0,0,0,0,0,1,2,7,1,3,2,3,2,1,2,1,0,0,0,0,0,1,1,2,2,2,2,1,2,1,2,1,1,1,0,0,0,0,1,2,1,1,1,7,2,2,2,2,5,1,0,0,0,0,1,2,2,2,2,2,1,1,2,2,2,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,2,2,1,2,5,1,0,0,0,0,0,0,0,0,1,2,2,2,1,2,2,1,0,0,0,0,0,0,0,0,1,3,2,3,2,3,2,1,0,0,0,0,0,0,0,0,1,2,3,1,1,2,2,1,0,0,0,0,0,0,1,1,1,2,3,2,1,2,1,1,0,0,0,0,0,0,1,7,7,7,7,7,2,2,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,2,2,2,2,1,0,0,0,0,0,0,0,1,1,7,2,3,1,1,2,1,1,0,0,0,0,0,0,1,7,7,3,2,3,2,2,5,1,0,0,0,0,0,0,1,7,7,2,3,2,3,2,1,1,0,0,0,0,0,0,1,1,1,1,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,2,2,1,1,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,3,2,2,2,1,0,0,0,0,0,0,0,1,3,2,1,1,1,2,3,1,0,0,0,0,0,0,0,1,2,1,7,7,7,1,2,1,0,0,0,0,0,0,1,1,2,1,7,7,7,1,2,1,1,0,0,0,0,0,1,2,3,2,2,3,2,2,3,2,1,0,0,0,0,0,1,2,2,2,2,2,1,2,5,2,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,1,1,1,3,3,3,2,1,0,0,0,0,0,0,0,0,1,5,2,3,7,7,2,1,0,0,0,0,0,0,0,0,1,2,3,7,7,7,1,1,0,0,0,0,0,0,0,0,1,1,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,0,0,0,0,1,1,2,2,1,0,0,1,2,2,2,1,0,0,0,0,1,2,3,2,1,1,1,1,3,2,2,1,0,0,0,0,1,2,2,3,7,7,7,7,2,3,2,1,0,0,0,0,1,1,2,2,2,2,1,2,5,2,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,2,2,5,1,0,0,0,0,0,0,0,0,0,1,2,2,3,7,2,1,1,0,0,0,0,0,0,0,0,1,2,2,7,3,7,2,1,0,0,0,0,0,0,0,0,1,1,1,2,4,3,2,1,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,7,7,1,0,0,0,0,0,0,0,0,0,0,0,1,1,2,7,1,1,0,0,0,0,0,0,0,0,0,0,1,2,2,3,7,1,0,0,0,0,0,0,0,0,0,1,1,2,3,2,2,1,1,0,0,0,0,0,0,0,0,1,2,2,1,3,3,2,1,0,0,0,0,0,0,0,0,1,2,2,5,2,2,2,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,2,2,1,2,2,2,1,0,0,0,0,0,0,0,0,1,2,3,7,7,3,2,1,0,0,0,0,0,0,0,0,1,5,3,7,4,2,1,1,0,0,0,0,0,0,0,0,1,2,3,7,7,3,2,1,0,0,0,0,0,0,0,0,1,2,2,1,2,2,2,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,2,2,2,2,1,1,0,0,0,0,0,0,0,0,1,2,3,2,3,3,2,1,0,0,0,0,0,0,0,0,1,7,7,7,7,7,7,1,0,0,0,0,0,0,0,0,1,2,3,3,2,3,2,1,0,0,0,0,0,0,0,0,1,1,1,2,5,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,1,1,1,0,0,0,0,0,0,0,0,1,2,3,2,2,2,2,1,0,0,0,0,0,0,1,1,1,2,3,2,1,1,2,1,0,0,0,0,0,0,1,7,7,7,2,3,2,2,2,1,0,0,0,0,0,0,1,7,7,7,3,1,3,2,1,1,0,0,0,0,0,0,1,1,1,1,2,1,2,3,2,1,0,0,0,0,0,0,0,0,0,1,2,2,5,2,2,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,2,3,3,3,1,1,0,0,0,0,0,0,0,0,0,1,2,2,1,7,7,1,1,1,0,0,0,0,0,0,0,1,1,2,2,7,7,3,2,1,0,0,0,0,0,0,0,0,1,2,5,2,2,2,2,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,2,2,2,1,7,2,1,0,0,0,0,0,0,0,1,1,2,2,3,7,7,7,1,0,0,0,0,0,0,0,1,2,2,3,2,1,4,7,1,0,0,0,0,0,0,1,1,2,1,1,3,1,2,1,1,0,0,0,0,0,0,1,2,2,2,3,2,2,3,2,1,0,0,0,0,0,0,1,2,2,2,1,2,2,2,2,1,0,0,0,0,0,0,1,1,1,1,1,1,1,5,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,7,7,7,7,2,1,0,0,0,0,0,0,0,0,1,1,1,7,7,7,3,1,1,1,0,0,0,0,0,0,1,2,2,3,1,3,2,3,2,1,0,0,0,0,0,0,1,2,3,3,2,2,1,3,2,1,0,0,0,0,0,0,1,2,2,2,2,1,2,2,2,1,0,0,0,0,0,0,1,1,1,1,2,5,2,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,7,7,3,7,7,1,0,0,0,0,0,0,0,0,0,1,7,7,1,7,7,1,0,0,0,0,0,0,0,0,0,1,2,3,3,3,2,1,0,0,0,0,0,0,0,0,0,1,2,2,3,2,2,1,0,0,0,0,0,0,0,0,0,1,2,3,3,3,2,1,0,0,0,0,0,0,0,0,0,1,2,2,1,5,2,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,2,7,7,7,1,0,0,0,0,0,0,0,1,1,1,1,7,7,7,7,1,0,0,0,0,0,0,0,1,2,2,1,1,1,3,2,1,1,1,0,0,0,0,0,1,2,3,2,3,2,2,3,3,2,1,0,0,0,0,0,1,5,2,3,2,3,2,2,2,2,1,0,0,0,0,0,1,2,2,2,1,1,1,2,2,2,1,0,0,0,0,0,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,1,2,1,3,3,2,2,1,0,0,0,0,0,0,0,0,1,2,7,7,7,1,2,1,0,0,0,0,0,0,0,0,1,1,7,7,7,3,2,1,1,0,0,0,0,0,0,0,0,1,2,1,1,2,3,2,1,0,0,0,0,0,0,0,0,1,3,2,2,3,2,2,1,0,0,0,0,0,0,0,0,1,2,2,1,2,2,5,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,2,2,2,1,1,1,1,0,0,0,0,0,0,1,2,2,2,3,2,3,2,2,1,0,0,0,0,0,0,1,2,3,2,2,2,3,2,5,1,0,0,0,0,0,0,1,1,1,3,3,1,1,1,1,1,0,0,0,0,0,0,0,0,1,2,2,7,7,1,0,0,0,0,0,0,0,0,0,0,1,7,7,7,7,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,1,1,1,1,1,0,0,1,2,2,2,2,1,1,1,0,1,2,2,7,1,0,0,1,2,2,3,2,3,2,1,0,1,7,7,7,1,0,0,1,2,1,2,2,3,2,1,1,1,2,2,7,1,0,0,1,2,2,3,3,3,2,2,2,3,2,5,7,1,0,0,1,1,1,2,2,3,2,2,3,1,2,2,7,1,0,0,0,0,1,2,2,3,1,3,2,1,7,7,7,1,0,0,0,0,1,1,2,2,2,2,2,1,2,2,7,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,7,2,2,2,1,0,0,0,0,0,0,1,2,2,1,7,7,1,1,2,1,0,0,0,0,0,0,1,2,2,3,7,7,2,2,2,1,0,0,0,0,0,0,1,2,2,1,2,7,1,2,1,1,0,0,0,0,0,1,1,1,2,1,1,3,1,2,2,1,0,0,0,0,0,1,2,3,2,2,2,2,3,3,2,1,0,0,0,0,0,1,2,1,3,1,2,2,1,2,2,1,0,0,0,0,0,1,5,2,2,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,2,2,2,1,1,2,2,1,1,1,1,0,0,0,0,1,2,3,2,2,2,2,2,2,2,2,1,0,0,0,0,1,1,3,1,1,1,2,1,1,2,2,1,0,0,0,0,1,2,2,1,1,2,4,2,1,2,1,1,0,0,0,0,1,2,3,7,7,7,7,7,7,2,1,0,0,0,0,1,1,2,1,1,1,2,7,2,1,2,1,0,0,0,0,1,2,2,2,2,2,3,1,1,1,3,1,0,0,0,0,1,2,2,2,1,2,2,2,2,3,5,1,0,0,0,0,1,1,1,1,1,3,1,2,1,1,1,1,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,1,2,1,2,1,2,1,2,1,0,0,0,0,0,0,0,1,2,2,3,2,3,1,2,1,0,1,1,1,1,1,1,1,2,2,2,3,2,2,2,1,0,1,7,7,1,2,2,1,1,2,3,2,3,1,2,1,0,1,7,7,2,2,2,1,1,2,3,2,3,2,2,1,0,1,7,7,1,2,2,1,1,2,1,1,1,1,1,1,0,1,7,7,1,2,1,2,3,2,3,2,1,0,0,0,0,1,7,7,2,2,2,2,2,3,2,2,1,0,0,0,0,1,2,2,1,1,1,2,5,2,1,1,1,0,0,0,0,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,2,2,1,0,0,0,0,0,0,0,0,1,2,2,3,2,3,2,1,0,1,1,1,1,1,1,1,1,2,2,2,3,2,2,1,0,1,4,7,4,7,4,1,1,1,2,3,2,3,2,1,1,1,7,4,7,4,7,1,0,1,3,2,3,2,2,1,2,2,4,7,4,7,4,1,0,1,5,3,2,3,2,2,2,2,7,4,7,4,1,1,0,1,3,2,3,2,2,1,2,2,4,7,4,7,4,1,1,1,2,3,2,3,2,1,1,1,7,4,7,4,7,1,1,2,2,2,3,2,2,1,0,1,4,7,4,7,4,1,1,2,2,3,2,3,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,7,7,7,7,7,7,1,0,0,0,0,0,0,0,0,1,2,2,3,2,1,2,1,1,0,0,0,0,0,0,0,1,2,3,2,1,2,3,2,1,0,0,0,0,0,0,0,1,1,3,2,3,2,3,2,1,0,0,0,0,0,0,0,0,1,2,2,5,2,2,2,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,2,2,2,7,2,2,2,2,1,0,0,0,0,1,2,2,2,1,1,3,1,1,2,2,1,0,0,0,0,1,2,5,3,7,2,7,2,7,3,1,1,0,0,0,0,1,1,2,3,1,1,3,1,1,2,1,0,0,0,0,0,0,1,2,2,2,2,7,2,2,2,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,7,2,2,5,1,0,0,0,0,0,0,0,1,2,2,3,3,3,2,2,1,0,0,0,0,0,0,0,1,7,1,1,7,1,1,7,1,0,0,0,0,0,0,0,1,2,2,2,3,2,2,2,1,0,0,0,0,0,0,0,1,2,2,3,7,1,2,1,1,0,0,0,0,0,0,0,1,1,1,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,7,2,7,7,1,0,0,0,0,0,0,0,0,0,0,1,7,2,3,7,1,0,0,0,0,0,0,0,0,0,1,1,1,2,2,3,1,1,0,0,0,0,0,0,0,0,1,2,3,2,2,3,2,1,0,0,0,0,0,0,0,0,1,2,1,3,1,1,2,1,0,0,0,0,0,0,0,0,1,2,2,2,5,2,2,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,2,2,2,2,1,1,1,0,0,0,0,0,0,1,2,2,2,1,3,2,2,2,1,1,1,0,0,0,0,1,2,2,2,3,2,2,2,3,3,2,1,0,0,0,0,1,2,3,3,2,1,3,2,2,2,2,1,0,0,0,0,1,1,2,2,2,3,2,2,2,3,2,1,0,0,1,1,1,1,1,1,2,1,3,1,1,1,1,1,0,0,1,7,7,5,2,1,3,2,2,1,0,0,0,0,0,0,1,7,1,7,7,2,2,3,1,1,0,0,0,0,0,0,1,7,7,7,7,3,1,2,1,0,0,0,0,0,0,0,1,7,7,7,7,2,2,2,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1,0,1,2,3,2,1,3,2,1,2,3,1,1,3,2,1,0,1,2,1,2,2,3,2,1,2,2,2,2,2,2,1,0,1,2,2,2,1,1,3,1,3,1,1,3,3,2,1,0,1,2,1,2,1,2,7,7,7,2,1,2,2,2,1,0,1,2,3,2,2,7,2,1,2,7,3,2,1,2,1,0,1,2,3,1,5,3,7,7,7,1,2,1,2,2,1,0,1,2,2,2,2,7,2,1,2,7,2,2,3,2,1,0,1,2,1,1,7,3,1,1,1,3,7,2,1,2,1,0,1,2,1,2,3,7,7,7,7,7,2,1,1,2,1,0,1,2,2,2,2,2,2,2,2,2,2,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,2,2,2,1,1,2,2,1,0,0,0,0,0,0,0,1,2,1,2,3,2,3,2,1,0,0,0,0,0,0,0,1,2,2,4,7,1,2,2,1,0,0,0,0,0,0,0,1,1,2,1,7,5,7,1,1,0,0,0,0,0,0,0,1,1,3,1,1,1,4,1,1,1,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,1,2,2,2,1,1,2,1,2,1,0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,2,2,2,2,2,2,1,0,0,0,0,0,0,0,0,1,2,3,3,2,2,2,1,1,1,0,0,0,0,0,0,1,2,2,3,2,3,3,3,2,1,1,1,1,1,0,0,1,1,2,1,1,2,7,7,7,2,2,2,2,1,1,0,0,1,2,1,5,1,7,7,7,1,1,1,3,2,1,0,0,1,2,1,2,3,7,7,7,2,2,2,2,2,1,0,1,1,2,1,2,3,7,7,7,3,2,1,2,1,1,0,1,2,2,1,1,1,1,1,2,1,1,1,2,1,0,0,1,2,2,2,2,2,2,3,2,2,2,3,2,1,0,0,1,1,1,1,1,1,1,1,1,1,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,2,5,2,1,0,0,0,0,0,0,0,0,0,0,0,1,3,3,3,1,0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,1,0,0,0,0,0,0,0,0,1,2,2,2,7,1,3,1,1,0,0,0,0,0,0,0,1,2,3,7,3,7,2,7,1,0,0,0,0,0,0,0,1,2,2,1,7,1,7,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,7,7,7,2,1,2,2,2,2,2,1,0,0,0,0,1,7,7,2,2,1,2,1,1,2,2,1,0,0,0,0,1,7,7,2,2,2,2,2,1,2,2,1,0,0,0,0,1,7,7,2,2,1,2,3,1,1,2,1,0,0,0,0,1,7,7,7,2,1,3,2,3,2,2,1,0,0,0,0,1,1,1,1,1,1,2,2,3,3,2,1,0,0,0,0,0,1,1,2,2,3,2,3,3,2,2,1,0,0,0,0,0,1,5,2,3,3,3,2,2,1,2,1,0,0,0,0,0,1,1,2,3,2,1,1,2,2,2,1,0,0,0,0,0,0,1,2,2,2,2,2,2,2,2,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,1,2,2,3,2,3,2,3,1,0,0,0,0,0,0,0,1,1,2,1,3,1,1,2,1,0,0,0,0,0,0,0,0,1,2,7,7,2,7,7,1,1,0,0,0,0,0,0,0,1,1,7,7,2,7,7,2,1,0,0,0,0,0,0,0,0,1,2,1,1,3,1,2,1,1,0,0,0,0,0,0,0,1,3,2,3,2,3,2,2,1,0,0,0,0,0,0,0,1,2,2,2,2,2,2,5,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,1,5,2,2,1,1,1,1,1,1,1,1,2,2,1,0,1,1,2,3,2,2,2,2,2,2,2,3,2,2,1,0,0,1,2,1,2,1,2,2,1,1,1,1,2,2,1,0,0,1,2,2,3,2,2,2,1,1,1,1,3,1,1,0,0,1,3,2,1,1,2,1,2,3,2,3,2,1,0,0,1,1,2,3,2,2,3,1,2,2,2,2,2,1,0,0,1,2,2,2,1,2,2,2,2,2,2,1,2,1,0,0,1,2,2,2,1,1,1,1,1,3,1,1,1,1,0,0,1,1,1,1,1,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,1,7,7,7,2,2,3,2,1,0,0,0,0,0,0,0,1,7,7,7,7,1,2,2,1,0,0,0,0,0,0,0,1,7,7,7,7,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,2,2,2,1,0,0,0,0,0,0,0,1,2,7,7,2,3,1,2,1,0,0,0,0,0,0,0,1,2,1,7,4,2,2,2,1,0,0,0,0,0,0,1,1,2,4,7,1,3,2,1,1,0,0,0,0,0,0,1,2,3,2,2,3,2,2,1,0,0,0,0,0,0,0,1,2,2,2,1,1,2,5,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,1,2,2,2,1,1,1,2,2,1,2,2,1,0,0,0,1,2,3,2,2,2,2,2,3,2,5,2,1,0,0,0,1,1,2,1,3,1,1,7,1,1,2,2,1,0,0,0,0,1,2,2,7,7,7,4,7,2,3,2,1,0,0,0,0,1,2,3,1,2,1,7,1,2,1,2,1,0,0,0,0,1,1,2,2,2,2,3,2,2,2,2,1,0,0,0,0,0,1,2,2,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,5,1,1,0,0,0,0,0,0,0,1,7,7,7,7,1,3,2,1,1,0,0,0,0,0,0,1,7,7,7,7,1,2,3,2,1,0,0,0,0,0,0,1,7,7,7,7,2,3,2,2,1,0,0,0,0,0,0,1,2,7,7,7,1,2,2,2,1,0,0,1,1,1,1,1,1,2,1,1,1,1,1,2,1,1,0,1,2,3,2,3,2,2,2,3,2,2,1,2,2,1,0,1,2,2,2,2,3,3,2,2,2,3,2,3,2,1,0,1,1,1,2,3,2,3,2,3,2,2,1,1,1,1,0,0,0,1,1,2,2,2,3,2,3,2,1,0,0,0,0,0,0,0,1,2,2,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,2,2,2,1,1,1,0,0,0,0,0,0,1,1,2,2,5,3,2,3,2,1,0,0,0,0,0,0,1,2,2,1,1,2,1,1,2,1,1,0,0,0,0,0,1,2,3,7,1,7,3,2,2,2,1,0,0,0,0,0,1,2,1,7,1,4,1,2,2,2,1,0,0,0,0,0,1,2,3,7,7,7,2,2,1,1,1,0,0,0,0,0,1,1,1,3,1,2,1,1,1,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,1,1,1,1,1,0,0,0,0,0,0,0,1,2,2,2,2,1,2,2,1,0,0,0,0,0,0,0,1,2,3,3,2,2,2,2,1,0,1,1,1,1,1,1,1,3,1,2,2,1,2,2,1,0,1,2,2,1,7,2,7,7,2,1,1,1,3,1,1,0,1,2,2,1,7,1,4,7,3,2,2,2,2,2,1,0,1,2,2,1,7,1,7,4,1,2,1,2,2,2,1,0,1,2,3,3,7,7,7,7,1,2,1,1,1,1,1,0,1,2,5,3,2,1,2,1,1,2,1,0,0,0,0,0,1,2,3,3,3,1,2,2,2,2,1,0,0,0,0,0,1,2,2,2,2,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0],
[1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0,1,2,3,2,2,1,1,1,0,0,0,0,0,0,0,0,1,2,3,2,3,2,2,1,1,1,0,0,0,0,0,0,1,2,3,2,3,2,3,2,2,1,1,1,0,0,0,0,1,2,3,2,3,2,3,2,2,2,2,1,0,0,0,0,1,2,3,2,3,2,2,1,2,2,2,1,1,0,0,0,1,2,3,2,2,1,1,2,3,3,3,2,1,0,0,0,1,5,2,1,1,1,1,2,2,2,2,2,1,1,0,0,1,1,2,1,2,1,7,3,3,3,3,3,7,1,0,0,0,1,2,1,1,1,7,7,7,7,7,7,7,1,1,0,0,1,2,2,2,7,4,4,4,4,4,4,4,7,1,0,0,1,1,1,1,7,7,7,7,7,7,7,7,7,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,2,5,1,2,2,1,1,1,1,1,0,0,0,0,0,1,2,3,3,2,2,3,2,2,2,1,0,0,0,0,0,1,2,2,1,7,1,1,3,1,2,1,0,0,0,0,0,1,1,3,1,7,7,7,2,2,2,1,0,0,0,0,0,1,1,2,7,7,7,1,1,3,1,1,0,0,0,0,0,1,2,2,1,1,7,1,1,2,2,1,0,0,0,0,0,1,2,2,3,2,2,3,2,2,2,1,0,0,0,0,0,1,2,2,1,2,2,2,1,2,2,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,2,5,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,3,2,1,0,0,0,0,0,0,0,0,0,0,0,1,3,7,3,1,0,0,0,0,0,0,0,0,0,1,1,1,7,3,7,1,1,0,0,0,0,0,0,0,1,1,2,7,3,7,3,7,1,1,1,0,0,0,0,0,1,2,2,3,7,3,7,3,2,2,1,0,0,0,0,0,1,2,2,2,2,7,2,2,2,2,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,3,2,3,2,3,7,4,7,7,1,0,0,0,1,2,3,2,3,2,3,2,4,7,7,7,1,0,0,0,1,2,2,3,2,3,2,3,7,4,7,7,1,0,0,0,1,2,3,2,3,2,3,2,4,7,7,7,1,0,0,0,1,2,2,3,2,3,2,3,7,4,7,7,1,0,0,0,1,2,3,2,3,2,3,2,4,7,7,7,1,0,0,0,1,2,2,3,2,3,2,3,7,4,7,7,1,0,0,0,1,2,3,2,3,2,3,2,4,7,7,7,1,0,0,0,1,2,2,3,2,3,2,3,7,4,7,7,1,0,0,0,1,5,3,2,3,2,3,2,4,7,7,7,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,1,1,1,1,1,1,1,1,2,1,2,1,0,0,0,1,2,3,2,3,2,3,2,3,2,2,2,1,0,0,1,1,2,1,7,1,7,1,7,1,5,3,1,0,0,1,1,1,7,7,7,7,7,7,7,2,2,2,1,1,0,0,1,1,2,1,2,1,2,1,2,1,3,1,1,0,0,0,0,1,2,3,2,3,2,3,2,3,2,2,2,1,0,0,0,0,1,1,1,1,1,1,1,1,2,1,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,2,2,7,3,2,1,1,1,0,0,0,0,0,0,0,1,2,7,3,7,3,2,2,1,0,0,0,0,0,0,0,1,4,3,7,3,7,5,2,1,0,0,0,0,0,0,0,1,2,7,3,7,3,2,1,1,0,0,0,0,0,0,0,1,2,2,7,3,2,2,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,1,1,1,1,1,1,1,1,1,1,2,4,2,1,1,1,1,2,2,2,2,2,2,2,2,2,2,7,2,2,2,1,1,2,3,3,3,3,4,4,4,4,3,7,7,7,5,1,1,2,2,2,2,2,2,2,2,2,2,7,2,2,2,1,1,1,1,1,1,1,1,1,1,1,2,4,2,1,1,1,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,2,2,1,1,1,1,1,0,0,0,1,5,3,2,2,2,2,3,2,2,3,2,1,0,0,0,1,3,1,1,1,2,3,2,1,2,1,2,1,0,0,0,1,2,2,1,2,2,1,2,3,2,2,2,1,0,0,0,1,2,3,1,2,2,2,2,1,2,1,1,1,0,0,0,1,2,2,3,2,1,3,1,2,2,2,1,0,0,0,0,1,7,7,7,7,7,7,7,7,7,2,1,0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,2,2,1,1,1,1,0,0,0,1,2,2,2,2,3,2,2,7,7,7,7,1,0,1,1,1,2,2,2,1,2,1,2,7,7,1,7,1,0,1,2,3,3,2,1,2,2,1,2,7,7,7,7,1,0,1,2,2,2,2,1,2,3,1,2,7,7,1,7,1,0,1,1,3,1,1,1,3,2,2,1,1,1,2,2,1,0,0,1,2,2,1,2,2,3,2,3,2,2,2,2,1,0,0,1,2,2,2,2,3,2,3,2,2,1,3,2,1,0,0,1,2,3,1,1,2,3,2,1,1,2,2,1,1,0,0,1,1,2,1,1,1,1,2,1,2,5,1,1,0,0,0,0,1,2,2,2,1,2,2,3,2,1,1,0,0,0,0,0,1,1,1,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,2,2,2,2,1,2,2,2,2,1,0,0,0,0,0,1,2,3,5,3,3,3,3,3,2,1,0,0,0,0,0,1,2,2,2,2,2,2,2,2,2,1,0,0,0,0,0,1,1,1,1,1,2,1,1,1,1,1,0,0,0,0,0,0,0,0,1,7,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,7,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,7,7,7,1,0,0,0,0,0,0,0,0,0,0,0,1,7,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,2,5,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,3,2,1,0,0,0,0,0,0,0,0,0,1,1,1,2,7,2,1,1,1,0,0,0,0,0,0,0,1,2,2,2,4,2,2,2,1,0,0,0,0,0,0,0,1,2,4,4,4,4,4,2,1,0,0,0,0,0,0,0,1,2,2,2,4,2,2,2,1,0,0,0,0,0,0,0,1,1,1,3,4,3,1,1,1,0,0,0,0,0,0,0,0,0,1,2,7,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,4,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,7,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,7,2,2,2,2,2,2,2,2,2,2,2,1,0,0,1,7,3,2,3,2,3,2,3,2,3,2,2,1,0,0,1,7,1,1,1,1,1,1,1,1,1,2,2,1,0,0,1,7,1,7,4,2,3,2,7,7,3,4,1,1,0,0,1,7,1,2,3,2,3,2,4,7,3,5,1,0,0,0,1,7,1,7,2,2,3,2,7,7,3,3,1,0,0,0,1,7,1,1,1,1,1,1,1,1,1,7,1,0,0,0,1,7,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,7,1,3,1,3,1,3,1,3,1,3,1,0,0,0,1,7,2,2,2,2,2,2,2,2,2,2,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,7,7,2,2,1,2,2,2,2,2,1,1,1,0,0,1,7,7,2,2,1,2,3,2,2,3,2,2,1,0,0,1,7,7,2,2,1,3,1,1,1,1,2,2,1,0,0,1,7,7,2,2,2,2,5,2,1,1,2,2,1,0,0,1,7,7,2,2,1,2,1,2,2,3,2,1,1,0,0,1,1,1,1,1,1,2,1,1,3,2,3,2,1,0,0,0,0,1,2,3,2,2,3,2,3,2,3,2,1,0,0,0,0,1,2,2,2,2,1,2,2,2,2,2,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,2,2,1,1,1,1,0,0,1,2,2,2,1,1,7,7,7,7,7,2,2,1,0,0,1,2,2,3,2,2,1,1,7,7,7,1,2,1,0,0,1,1,2,2,3,2,2,1,1,1,2,1,2,1,0,0,0,1,2,1,2,3,2,2,1,2,2,2,2,1,0,0,0,1,2,2,1,2,3,2,2,1,2,2,2,1,0,0,0,1,2,2,2,1,2,3,2,2,1,2,2,1,0,0,0,1,2,2,2,2,1,2,3,2,1,2,1,1,0,0,0,1,1,1,1,2,2,1,2,3,2,2,1,0,0,0,0,0,0,0,1,1,2,2,1,2,3,2,1,0,0,0,0,0,0,0,0,1,1,5,1,2,2,2,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,1,7,7,1,1,1,1,1,1,1,1,7,7,1,0,0,1,4,7,4,7,7,7,7,7,4,7,4,7,1,0,0,1,2,3,2,3,2,3,2,3,2,3,2,3,1,0,0,1,3,2,3,2,3,5,3,2,3,2,3,2,1,0,0,1,2,3,2,3,2,3,2,3,2,3,2,3,1,0,0,1,3,2,3,2,3,2,3,2,3,2,3,2,1,0,0,1,7,4,7,4,7,7,7,7,7,4,7,4,1,0,0,1,7,7,1,1,1,1,1,1,1,1,7,7,1,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,1,2,2,2,1,1,1,1,0,0,0,0,0,0,0,1,2,7,7,4,2,3,2,1,0,0,0,0,1,1,1,1,2,1,7,1,2,2,2,1,0,0,0,0,1,2,2,2,2,7,4,7,1,5,1,1,0,0,0,0,1,2,1,3,1,1,3,1,1,2,1,0,0,0,0,0,1,2,2,2,2,2,3,2,3,2,1,0,0,0,0,0,1,1,2,2,1,2,2,2,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,0,0,0,0,0,0,0,0,0,0,1,2,3,2,2,1,1,1,1,0,0,0,0,0,0,0,1,2,3,4,7,7,4,2,1,0,0,0,0,0,0,0,1,2,4,7,7,4,3,2,1,0,0,0,0,0,0,0,1,1,1,1,2,2,3,2,1,0,0,0,0,0,0,0,0,0,0,1,2,5,2,2,1,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,7,2,2,1,1,0,0,0,0,0,0,0,1,2,3,7,3,7,2,2,1,0,0,0,0,0,0,0,1,5,3,1,2,1,3,2,1,0,0,0,0,0,0,0,1,2,3,7,2,7,2,2,1,0,0,0,0,0,0,0,1,1,1,1,3,1,3,2,1,0,0,0,0,0,0,0,0,0,1,7,2,7,2,2,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,2,2,2,2,7,7,7,2,3,2,1,0,0,0,0,1,2,3,3,3,4,4,4,2,3,5,1,0,0,0,0,1,2,2,2,2,7,7,7,2,3,2,1,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,2,2,2,2,2,2,2,1,0,0,0,0,0,0,1,2,2,2,1,3,1,3,2,1,0,0,0,0,0,0,1,2,3,3,2,2,7,3,7,1,0,0,0,0,0,0,1,2,5,1,1,1,7,7,7,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,1,1,1,1,0,0,0,0,0,0,0,1,1,3,2,1,1,2,2,1,0,0,0,0,0,0,0,1,2,2,3,5,3,2,2,1,0,0,0,0,0,0,0,1,2,2,2,1,1,3,2,1,0,0,0,0,0,0,0,1,1,1,7,1,1,2,1,1,1,0,0,0,0,0,0,0,1,7,7,7,3,2,3,2,1,0,0,0,0,0,0,0,1,1,7,7,2,2,2,2,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[1,1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,1,7,7,7,1,0,1,2,2,1,1,1,1,0,0,0,1,7,7,7,1,1,1,2,2,3,2,2,1,0,0,0,1,7,7,7,7,1,1,2,3,2,2,3,1,1,1,0,1,1,7,7,7,7,1,1,2,2,2,3,2,2,1,0,1,1,1,7,7,7,2,1,1,2,3,2,3,2,1,0,1,2,1,1,2,2,2,2,1,2,2,3,2,2,1,0,1,2,2,1,1,2,1,2,1,1,1,2,1,1,1,1,1,2,3,2,1,2,1,3,2,2,3,2,2,2,2,1,1,2,2,3,2,5,2,3,2,2,2,2,3,2,2,1,1,2,2,2,1,2,3,2,3,3,2,3,2,1,1,1,1,2,2,1,1,1,1,1,1,2,2,1,1,1,0,0,1,2,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,7,2,7,2,7,1,0,0,0,0,0,0,0,0,0,1,2,3,3,3,2,1,0,0,0,0,0,0,0,0,0,1,7,3,5,3,7,1,0,0,0,0,0,0,0,0,0,1,2,3,3,3,2,1,0,0,0,0,0,0,0,0,0,1,7,2,7,2,7,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,2,2,1,0,0,0,0,0,0,1,2,2,2,2,2,3,2,2,1,0,0,0,0,0,0,1,2,2,2,3,1,1,5,3,1,0,0,0,0,0,0,1,1,3,1,7,7,7,1,2,1,0,0,0,0,0,0,0,1,2,3,7,7,7,2,2,1,0,0,0,0,0,0,0,1,2,1,7,2,7,1,2,1,1,0,0,0,0,0,0,1,2,2,2,1,2,1,3,2,1,0,0,0,0,0,0,1,3,2,2,3,2,2,2,2,1,0,0,0,0,0,0,1,2,2,1,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,1,0,0,0,0,1,1,1,1,1,4,1,1,1,2,1,1,0,0,0,0,1,2,2,2,7,7,7,2,2,2,1,0,0,0,0,0,1,2,1,2,1,4,1,1,1,3,1,1,0,0,0,0,1,2,3,2,2,2,2,3,2,2,2,1,0,0,0,0,1,1,1,1,1,5,2,1,2,2,2,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,7,7,7,1,0,1,1,1,1,1,0,0,0,0,0,1,7,7,7,1,1,1,2,2,2,1,0,0,0,0,0,1,7,7,7,7,2,2,2,3,3,1,1,1,1,1,0,1,7,7,7,7,2,2,1,2,2,1,2,2,2,1,1,1,7,7,1,3,1,1,1,1,2,1,3,1,2,2,1,1,1,2,3,2,2,1,2,2,2,2,2,3,3,2,1,1,2,2,3,1,2,5,2,3,2,3,3,1,2,2,1,1,2,3,2,3,2,3,2,1,2,2,2,3,2,1,1,1,2,2,2,1,2,2,3,2,1,1,2,2,2,1,0,1,1,1,1,1,1,2,2,2,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,7,1,2,2,2,2,2,2,1,1,1,1,0,1,1,7,7,1,2,3,2,2,3,2,1,2,2,1,0,1,7,7,7,1,2,1,1,2,3,2,1,2,2,1,0,1,7,7,7,7,7,2,2,1,3,3,2,2,2,1,0,1,1,7,7,7,7,3,2,2,2,2,1,3,2,1,0,1,1,1,1,2,1,1,1,1,1,1,1,2,2,1,0,1,2,2,2,3,2,2,2,2,2,2,2,2,1,1,0,1,2,2,3,2,1,2,2,3,1,2,3,2,1,1,0,1,2,3,1,1,1,2,3,2,1,2,3,3,2,1,0,1,2,2,2,5,1,2,2,1,1,2,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,2,2,1,2,2,2,1,0,0,1,1,1,1,1,1,1,2,3,3,7,7,7,1,0,0,1,2,2,2,2,2,2,2,2,1,7,7,7,1,0,0,1,2,1,1,1,1,1,1,3,1,7,7,7,1,0,1,1,2,1,2,2,2,2,2,2,1,7,7,7,1,0,1,2,2,1,2,1,3,2,3,2,1,1,1,1,1,0,1,2,1,2,3,2,3,2,3,2,1,0,0,0,0,0,1,2,5,2,2,3,2,1,2,2,1,0,0,0,0,0,1,1,1,1,1,3,2,3,3,2,1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,2,2,2,1,0,0,0,0,1,1,1,2,2,2,2,7,2,3,2,1,0,0,0,0,1,2,3,2,2,1,3,7,1,3,1,1,0,0,0,0,1,2,2,1,2,2,5,7,1,2,2,1,0,0,0,0,1,1,2,1,1,1,1,7,2,2,2,1,0,0,0,0,0,1,2,3,2,2,1,4,1,1,1,1,0,0,0,0,0,1,2,1,1,2,1,7,2,2,1,0,0,0,0,0,0,1,2,2,2,2,2,7,1,2,1,0,0,0,0,0,0,1,1,1,3,2,2,2,2,2,1,0,0,0,0,0,0,0,0,1,2,2,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,2,2,1,1,1,1,1,0,0,0,0,1,2,2,2,2,3,2,2,2,3,2,1,0,0,0,0,1,2,2,3,1,3,1,1,2,2,2,1,0,0,0,0,1,1,1,2,1,7,4,7,2,1,1,1,0,0,0,0,0,0,1,2,7,7,7,2,5,1,0,0,0,0,0,0,0,0,1,1,2,1,3,1,1,1,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,2,2,2,2,7,2,1,0,0,0,0,0,1,2,2,3,2,3,2,3,7,2,1,0,0,0,0,0,1,2,2,7,1,1,1,1,7,1,1,0,0,0,0,0,1,2,3,7,3,2,3,2,5,1,0,0,0,0,0,0,1,2,2,7,2,2,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,1,1,1,3,7,3,1,1,1,1,1,0,0,0,0,0,1,2,2,2,7,2,3,2,2,2,1,0,0,0,0,0,1,2,1,1,3,1,1,2,5,2,1,0,0,0,0,0,1,2,2,2,7,2,1,1,1,1,1,0,0,0,0,0,1,1,1,2,7,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,2,5,2,1,1,1,1,1,1,0,0,0,0,0,0,1,2,1,7,7,4,2,2,2,1,0,0,0,0,0,0,1,2,7,7,7,1,2,2,2,1,0,0,0,0,0,1,1,3,1,1,2,3,2,3,2,1,0,0,0,0,0,1,2,2,2,1,3,1,1,1,1,1,0,0,0,0,0,1,2,2,2,3,2,2,2,1,0,0,0,0,0,0,0,1,1,1,1,1,2,1,2,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,2,2,2,2,1,1,0,0,0,0,0,0,0,1,2,2,2,1,1,2,2,1,0,0,0,0,0,1,1,1,3,1,1,2,2,1,2,1,0,0,0,0,1,1,2,2,2,2,2,7,7,1,2,1,0,0,0,0,1,2,2,3,1,3,1,4,7,1,2,1,0,0,0,0,1,2,3,3,5,2,1,7,4,1,2,1,1,1,0,0,1,2,2,3,3,2,1,7,7,1,2,2,2,1,0,0,1,1,2,2,2,2,1,7,7,3,2,2,2,1,0,0,0,1,1,1,3,1,1,7,2,1,2,1,1,1,0,0,0,0,0,1,2,2,1,1,1,2,2,1,0,0,0,0,0,0,0,1,1,2,2,2,2,2,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,2,2,1,2,2,1,0,0,0,0,0,0,0,0,0,1,2,2,3,3,2,1,0,0,0,0,1,1,1,1,1,1,2,3,1,2,2,1,0,0,0,0,1,7,7,7,1,1,1,2,1,2,2,1,1,0,0,0,1,7,2,2,1,2,2,3,2,1,2,2,1,0,0,0,1,7,2,2,2,2,3,2,3,2,3,2,1,0,0,0,1,7,2,2,1,2,2,3,2,1,2,2,1,0,0,0,1,7,7,7,1,1,1,2,1,2,2,1,1,0,0,0,1,1,1,1,1,1,2,3,2,2,2,1,0,0,0,0,0,0,0,0,0,1,5,2,1,2,2,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,1,1,1,1,1,1,0,0,0,1,1,1,2,1,1,2,1,1,7,7,2,1,1,1,1,1,2,3,2,2,1,2,1,1,7,7,2,2,2,2,2,3,2,2,2,3,1,2,1,1,7,7,2,2,1,1,2,1,1,2,2,2,1,2,1,1,7,7,2,1,1,2,3,2,1,3,2,3,1,2,1,1,7,7,2,1,2,2,2,2,2,3,2,2,1,2,1,1,7,7,2,1,2,2,3,2,1,1,1,3,2,2,1,1,7,7,2,1,2,3,2,3,2,2,3,2,1,1,1,1,1,1,2,1,1,2,1,2,3,2,2,2,2,1,0,0,0,1,2,2,2,2,1,5,1,1,2,3,2,1,0,0,0,1,1,1,1,1,1,1,1,1,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,2,5,2,1,1,1,0,0,0,0,0,0,0,1,2,2,3,2,3,2,2,1,0,0,0,0,0,0,0,1,2,4,7,4,7,4,2,1,0,0,0,0,0,0,0,1,2,7,3,2,3,7,2,1,0,0,0,0,0,0,0,1,2,4,7,4,7,4,2,1,0,0,0,0,0,0,1,1,2,2,3,2,3,2,2,1,1,0,0,0,0,1,1,1,1,1,1,1,1,2,2,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,2,5,2,4,2,4,2,4,2,1,2,2,1,1,0,1,3,1,2,2,4,2,4,2,2,1,2,2,2,1,0,1,2,1,2,4,2,4,2,4,2,2,2,2,2,1,0,1,2,1,2,2,4,2,4,2,2,1,1,2,1,1,0,1,2,1,2,4,2,4,2,4,2,1,1,2,1,0,0,1,2,1,2,2,4,2,4,2,2,1,1,2,1,0,0,1,2,1,2,4,2,4,2,4,2,1,1,2,1,0,0,1,2,1,2,2,4,2,4,2,2,1,1,2,1,0,0,1,2,1,2,4,2,7,2,4,2,1,1,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,1,2,2,1,1,2,2,1,0,0,0,1,3,3,3,2,1,2,3,3,2,2,3,1,1,0,0,1,2,3,2,2,1,2,2,7,7,7,7,2,1,0,0,1,2,2,3,2,2,1,3,7,1,1,7,2,1,0,0,1,2,2,1,2,3,1,2,7,7,7,7,1,1,0,1,1,3,2,3,2,2,1,3,7,1,1,7,2,1,0,1,2,3,2,2,3,2,5,3,7,7,7,7,2,1,0,1,2,2,2,1,1,1,2,2,1,1,1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,1,2,2,3,1,3,1,2,1,0,0,0,1,1,1,1,1,1,2,2,1,2,3,2,1,0,0,0,1,2,2,2,1,2,3,2,2,3,2,2,1,0,0,1,1,2,3,2,2,2,2,2,1,1,1,2,1,0,0,1,2,2,2,1,3,1,1,1,1,2,2,2,1,0,0,1,2,2,2,2,3,2,1,1,1,2,1,1,1,0,0,1,1,1,1,1,7,7,2,5,1,2,1,1,0,0,0,0,0,0,1,7,7,7,3,2,3,3,2,1,0,0,0,0,0,0,1,7,7,7,1,2,2,2,2,1,0,0,0,0,0,0,1,7,7,7,1,1,1,1,1,1,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,1,2,2,1,1,1,1,1,1,1,7,7,1,1,1,0,1,2,3,2,3,2,3,2,2,1,7,7,7,7,1,0,1,2,3,2,2,2,3,3,2,1,4,4,4,7,1,0,1,2,3,2,3,2,3,2,2,1,7,7,4,7,1,0,1,2,2,3,2,3,2,3,2,1,4,7,4,7,1,0,1,1,2,3,2,3,2,3,2,7,4,7,4,7,1,1,1,2,2,3,2,3,2,3,2,7,4,7,4,7,5,1,1,2,2,3,2,3,2,3,2,1,4,7,4,7,1,1,1,2,3,2,3,2,3,2,2,1,7,7,4,7,1,0,1,2,3,2,2,2,3,3,2,1,4,4,4,7,1,0,1,2,3,2,3,2,3,2,2,1,7,7,7,7,1,0,1,2,2,1,1,1,1,1,1,1,7,7,1,1,1,0,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0],
[0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,2,2,2,1,0,0,0,0,0,1,2,2,2,1,1,7,2,2,2,1,0,0,0,0,0,1,2,2,3,1,7,7,2,2,1,1,1,0,0,0,0,1,1,2,2,7,7,7,1,3,3,2,1,1,1,1,1,0,1,2,3,7,1,7,3,2,2,2,2,2,2,2,1,0,1,2,3,1,1,1,3,1,1,2,1,2,3,2,1,0,1,2,2,2,1,2,2,2,2,2,3,3,1,2,1,0,1,1,3,3,1,2,1,1,3,1,3,2,2,2,1,0,1,7,7,7,2,3,5,2,3,2,2,2,1,1,1,0,1,7,7,7,1,3,1,2,2,2,1,1,1,0,0,0,1,7,7,7,2,2,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,1,1,1,1,1,1,0,0,0,0,1,2,2,1,1,1,1,2,2,2,2,1,0,0,0,1,1,4,2,2,2,4,2,4,4,2,2,1,0,0,0,1,2,3,2,4,2,2,2,2,4,1,2,1,0,0,0,1,2,7,2,2,2,1,1,1,2,2,2,1,0,0,0,1,1,1,1,1,1,2,2,2,1,5,1,1,0,0,0,1,2,4,2,7,2,4,2,2,4,4,2,1,0,0,0,1,2,2,2,1,2,2,2,1,2,2,2,1,0,0,0,1,1,4,2,2,2,4,2,1,3,1,2,1,0,0,0,0,1,2,2,1,1,1,1,1,2,2,2,1,0,0,0,0,1,1,1,1,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,2,2,2,1,2,2,2,1,0,0,0,0,0,0,0,1,2,3,3,3,3,3,2,1,0,0,0,0,0,0,1,1,2,3,2,3,2,3,2,1,0,0,0,0,0,0,1,2,3,2,2,5,2,2,2,1,0,0,0,0,0,0,1,2,3,2,1,1,1,1,2,1,1,0,0,0,0,0,1,2,2,1,7,7,7,7,7,2,1,0,0,0,0,0,1,1,2,2,7,7,7,7,7,2,1,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,0,1,2,3,2,3,2,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,7,7,1,1,1,1,1,0,1,1,1,1,1,1,7,7,4,7,2,2,3,2,1,0,1,2,2,3,5,3,7,7,7,7,1,3,3,2,1,0,1,2,2,2,3,2,1,3,1,1,1,2,2,2,1,0,1,1,1,1,1,2,2,2,2,2,2,2,1,1,1,0,0,0,0,0,1,1,1,2,2,1,1,1,1,0,0,0,0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,1,1,1,1,1,0,0,0,0,0,0,1,2,3,2,7,7,2,3,2,1,0,0,0,0,0,0,1,1,3,2,7,7,3,3,5,1,0,0,0,0,0,0,0,1,2,2,7,7,2,3,2,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,2,2,2,1,1,1,1,1,1,0,0,0,0,1,1,1,3,1,7,2,2,2,2,2,1,0,0,0,0,1,2,3,2,7,7,7,1,2,3,2,1,0,0,0,0,1,5,2,3,7,1,4,3,2,2,2,1,0,0,0,0,1,1,1,1,2,2,2,2,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,2,2,2,1,0,0,0,0,0,0,0,1,2,2,2,3,2,5,2,1,0,0,0,0,0,0,0,1,2,2,3,2,1,7,1,1,1,1,1,0,0,0,0,1,1,3,2,1,1,7,1,1,2,2,1,1,1,1,0,0,1,2,2,7,7,7,7,7,2,3,1,2,2,1,0,0,1,2,3,1,1,7,1,1,2,2,1,3,2,1,0,0,1,2,2,2,1,7,1,1,2,2,2,2,2,1,0,0,1,1,1,2,3,2,1,1,1,1,1,2,1,1,0,0,0,0,1,2,1,3,2,2,2,2,2,3,2,1,0,0,0,0,1,2,2,2,2,1,1,1,2,2,2,1,0,0,0,0,1,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,2,2,4,2,2,1,0,0,0,0,0,0,0,0,0,1,2,5,7,3,2,1,0,0,0,0,0,0,0,0,0,1,2,3,7,2,2,1,0,0,0,0,0,0,0,0,0,1,4,7,4,4,4,1,0,0,0,0,0,0,0,0,0,1,2,2,4,2,2,1,0,0,0,0,0,0,0,0,0,1,2,3,4,3,2,1,0,0,0,0,0,0,0,0,0,1,2,2,7,2,2,1,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,2,2,2,2,1,2,2,1,0,0,0,0,0,1,1,1,2,1,3,2,2,3,2,1,1,1,1,0,0,1,2,2,3,2,2,1,1,7,7,1,2,2,1,1,1,1,2,1,2,2,3,2,1,7,7,3,2,3,2,2,1,1,2,3,3,2,2,3,1,7,7,2,2,1,2,2,1,1,1,2,2,1,2,2,7,7,7,1,3,2,2,2,1,0,1,3,2,5,2,1,7,7,7,1,2,3,2,2,1,0,1,2,2,2,2,1,7,7,7,3,2,2,2,1,1,0,1,2,1,1,3,2,1,1,1,2,2,2,1,1,0,0,1,2,2,2,3,2,2,2,2,2,1,1,1,0,0,0,1,2,2,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,7,7,7,7,7,7,2,2,1,0,0,0,1,2,2,2,7,7,7,7,7,1,2,2,1,0,0,0,1,2,2,1,7,7,7,7,7,7,2,1,1,0,0,0,1,1,2,1,1,1,1,3,1,1,3,1,0,0,0,0,1,5,3,2,2,3,2,3,2,2,2,1,1,1,0,0,1,2,3,3,2,2,2,2,1,1,2,2,2,1,0,0,1,2,1,2,2,3,3,1,1,2,2,1,2,1,0,0,1,2,2,2,3,2,2,1,2,3,3,2,2,1,0,0,1,2,2,3,2,2,3,2,2,2,1,3,2,1,0,0,1,1,1,1,2,2,2,1,2,3,2,3,2,1,0,0,0,0,0,1,2,2,2,1,2,2,2,2,2,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,2,2,2,2,2,2,2,1,0,0,0,0,0,0,0,1,3,2,3,3,3,2,2,1,0,0,0,0,0,0,0,1,2,2,2,1,2,3,2,1,0,0,0,0,0,0,0,1,2,2,2,3,5,3,2,1,0,0,0,0,0,1,1,1,3,2,3,2,1,2,1,1,0,0,0,0,0,1,2,2,2,3,1,3,1,2,1,0,0,1,1,1,1,1,2,1,2,2,1,2,2,2,1,0,0,1,7,7,7,2,2,1,2,3,1,2,1,1,1,0,0,1,7,7,7,7,7,2,2,2,1,2,1,0,0,0,0,1,7,7,7,7,7,1,2,3,1,2,1,0,0,0,0,1,1,1,1,1,1,1,1,2,2,2,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,1,2,2,2,1,1,1,2,2,2,2,1,0,0,0,1,1,2,3,2,3,2,1,3,2,1,3,1,0,0,0,1,2,2,3,2,5,2,3,2,2,3,2,1,1,0,0,1,2,1,2,2,1,1,2,1,7,7,7,7,1,0,0,1,2,2,1,1,2,3,2,1,7,1,1,7,1,0,0,1,1,2,2,3,2,2,2,2,7,7,7,7,1,0,0,0,1,2,3,3,2,1,3,1,7,7,7,7,1,0,0,0,1,2,2,2,1,2,2,2,1,3,2,1,1,0,0,0,1,1,1,1,1,2,3,2,2,2,2,1,0,0,0,0,0,0,0,0,1,1,1,1,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,1,1,1,1,1,1,1,1,1,1,0,0,0,1,2,2,2,2,1,1,2,2,2,2,2,1,0,0,0,1,7,7,1,2,2,2,2,3,3,1,2,1,0,0,0,1,7,7,2,2,1,1,2,2,2,3,2,1,1,1,0,1,7,7,1,2,2,1,1,3,1,2,3,2,2,1,0,1,7,7,2,2,2,1,2,5,3,2,3,2,2,1,0,1,7,7,1,2,2,1,2,3,2,3,2,2,2,1,0,1,2,7,2,2,2,1,2,3,2,3,2,1,1,1,0,1,2,2,1,2,2,1,2,2,2,1,1,1,0,0,0,1,2,2,1,2,2,2,2,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,1,2,2,2,2,2,1,0,0,0,0,0,0,0,0,1,2,2,3,1,1,2,2,1,0,0,0,0,0,0,1,2,2,1,2,2,2,3,2,1,1,0,0,1,0,0,1,2,1,2,2,1,2,1,2,1,0,1,0,1,0,0,1,2,3,2,3,2,2,3,2,1,0,0,1,1,1,1,1,1,1,2,1,3,1,2,2,1,0,0,1,2,2,3,2,3,2,2,2,2,2,2,1,0,0,0,1,5,7,7,3,2,4,4,7,1,1,1,0,0,0,0,0,1,7,7,7,7,7,7,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
];
fn level(index: u32) -> Level {
   let i = if index > 100 || index == 0 { 1 } else { index };
   Level {
       map: load_from_vec(&LEVELS[i as usize-1])
   }
}


impl <'r>Game<'r> {
    
    fn new<T>(texture_creator : &'r TextureCreator<T>) -> Game<'r> {
        let tile_set = TileSet::load_from(Cursor::new(&include_bytes!("../../tiles")[..]));
        let cursor_gfx = [
            OutlinedTile::new(188,WHITE,&tile_set,texture_creator),
            OutlinedTile::new(64,WHITE,&tile_set,texture_creator),
            OutlinedTile::new(65,WHITE,&tile_set,texture_creator),
            OutlinedTile::new(66,WHITE,&tile_set,texture_creator),
            OutlinedTile::new(67,WHITE,&tile_set,texture_creator),
            OutlinedTile::new(68,WHITE,&tile_set,texture_creator),
            OutlinedTile::new(69,WHITE,&tile_set,texture_creator),
            OutlinedTile::new(70,WHITE,&tile_set,texture_creator),
            OutlinedTile::new(71,WHITE,&tile_set,texture_creator),
        ];
        let mut block = Graphic::load_from(Cursor::new(&include_bytes!("../garbage_block")[..])).unwrap().textured(&texture_creator);
        block.update_texture(&tile_set);
        let mut push_box = Graphic::load_from(Cursor::new(&include_bytes!("../movable_block")[..])).unwrap().textured(&texture_creator);
        push_box.update_texture(&tile_set);
        let mut good_box = Graphic::load_from(Cursor::new(&include_bytes!("../movable_block2")[..])).unwrap().textured(&texture_creator);
        good_box.update_texture(&tile_set);        
        let player_gfx=  OutlinedTile::new(73,YELLOW,&tile_set,texture_creator);
        let goal = OutlinedTile::new(188,PALE_ORANGE,&tile_set,texture_creator);
        Game {
            tile_set: tile_set,
            player: (WIDTH as i32/2,HEIGHT as i32/2),
            won_level: false,            
            score: 0,
            history: vec![],
            tiles: [[None;HEIGHT as usize]; WIDTH as usize],
            block, push_box,good_box,goal,
            cursor_gfx, player_gfx
        }
    }
    fn find_player(xy : [[Option<GameObject>;HEIGHT as usize];WIDTH as usize]) -> (i32,i32) {
        for x in 0..WIDTH {
            for y in 0..HEIGHT {
                if let Some(GameObject::Player) = xy[x as usize][y as usize] { 
                    return (x as i32,y as i32)
                } else if let Some(GameObject::GoalPlayer) = xy[x as usize][y as usize] {
                    return (x as i32,y as i32)
                }
            }
        }
        panic!("Impossible: No player in map");
    }
    fn set_up_level(&mut self, lev : u32) {
        let l = level(lev);
        self.score = 0;
        self.history = vec![];
        self.player = Self::find_player(l.map);
        self.won_level = false;
        self.tiles = l.map;
    }
    fn draw<T:RenderTarget>(&self, canvas : &mut Canvas<T>) {
        canvas.set_draw_color(rgba(218,218,216,255));
        
        canvas.clear();
        for i in 0..WIDTH as i32 {
            for j in 0..HEIGHT as i32 {
                if self.tiles[i as usize][j as usize].is_none() {
                    canvas.set_draw_color(CHARCOAL);
                    canvas.fill_rect(Rect::new(i*12-1,j*12+17-1,14,14)).unwrap();
                }
            }
        }
        for i in 0..WIDTH as i32 {
            for j in 0..HEIGHT as i32 {
                if let Some(x) = self.tiles[i as usize][j as usize] {
                    if x != GameObject::Block { 
                        if i % 2 == j %2 {
                            canvas.set_draw_color(rgba(218,218,216,255));
                            canvas.fill_rect(Rect::new(i*12,j*12+17,12,12)).unwrap();
                        } else {
                            canvas.set_draw_color(rgba(238,238,236,255));
                            canvas.fill_rect(Rect::new(i*12,j*12+17,12,12)).unwrap();
                        }
                    }
                    match x {
                        GameObject::Block => {                            
                            self.block.draw(canvas,(i*12-6,j*12-6+17))
                        } ,
                        GameObject::Box => self.push_box.draw(canvas,(i*12-6,j*12-6+17)),
                        GameObject::GoalBox => self.good_box.draw(canvas,(i*12-6,j*12-6+17)),
                        GameObject::Floor => {},
                        GameObject::Goal => self.goal.draw(canvas,(i*12+1,j*12+1+17)),
                        GameObject::Player => self.player_gfx.draw(canvas,(i*12+1,j*12+1+17)),
                        GameObject::GoalPlayer => self.player_gfx.draw(canvas,(i*12+1,j*12+1+17)),
                    }
                }
            }
        }
       // self.player_gfx.draw(canvas,(self.player.0*12+1,self.player.1*12+17+1));
    }
    fn lift_box(&mut self, p:(i32,i32)) {
        let new = match self.tiles[p.0 as usize][p.1 as usize] {
            Some(GameObject::Box) => GameObject::Floor,
            Some(GameObject::GoalBox) => GameObject::Goal,
            _ => panic!("Tried to remove box where there was none")
        };
        self.tiles[p.0 as usize][p.1 as usize] = Some(new);
    }

    fn place_box(&mut self, p:(i32,i32)) {
        let new = match self.tiles[p.0 as usize][p.1 as usize] {
            Some(GameObject::Floor) => GameObject::Box,
            Some(GameObject::Goal) => GameObject::GoalBox,
            _ => panic!("Tried to place box where there was no way for them to stand there.")
        };
        self.tiles[p.0 as usize][p.1 as usize] = Some(new);
    }
    fn lift_player(&mut self) {
        let p = self.player;
        let new = match self.tiles[p.0 as usize][p.1 as usize] {
            Some(GameObject::Player) => GameObject::Floor,
            Some(GameObject::GoalPlayer) => GameObject::Goal,
            _ => panic!("Tried to remove player where there was none")
        };
        self.tiles[p.0 as usize][p.1 as usize] = Some(new);
    }

    fn place_player(&mut self) {
        let p = self.player;
        let new = match self.tiles[p.0 as usize][p.1 as usize] {
            Some(GameObject::Floor) => GameObject::Player,
            Some(GameObject::Goal) => GameObject::GoalPlayer,
            _ => panic!("Tried to place player where there was no way for them to stand there.")
        };
        self.tiles[p.0 as usize][p.1 as usize] = Some(new);
    }
    fn push_box(&mut self, p : (i32,i32), d: Direction ) -> bool {
        if Self::clamp_bounds(d.move_point(p)) != d.move_point(p) { return false; };
        let (x,y) = d.move_point(p);
        match self.tiles[x as usize][y as usize] {
            Some(GameObject::Floor) | Some(GameObject::Goal) => {
                self.lift_box(p);
                self.place_box((x,y));
                return true;
            }
            _ => {
                return false;
            }
        }

    }
    fn push_player(&mut self, d : Direction) {
        let p = self.player;
        if Self::clamp_bounds(d.move_point(p)) != d.move_point(p) { return; };
        let (x,y) = d.move_point(p);
        match self.tiles[x as usize][y as usize] {
            Some(GameObject::Floor) | Some(GameObject::Goal) => {
                self.lift_player();
                self.score += 1;
                self.player = d.move_point(self.player);
                self.history.push((d,false));
                self.place_player();                
            },            
            Some(GameObject::Box) | Some(GameObject::GoalBox) => { 
                if self.push_box((x,y), d) {
                    self.push_player(d);
                    self.history.pop();
                    self.history.push((d,true));
                }
            },
            _ => return ,
        }
    }
    fn undo(&mut self) {
        if let Some((d,bx)) = self.history.pop() {
            if bx {
                let boxpos = d.move_point(self.player);
                self.lift_player();
                self.player = d.opposite().move_point(self.player);
                self.place_player();
                self.push_box(boxpos,d.opposite());
            } else {
                self.lift_player();
                self.player = d.opposite().move_point(self.player);
                self.place_player();
            }
            
        }
    }
    fn clamp_bounds(p:(i32,i32)) -> (i32,i32) {
        (p.0.max(0).min(WIDTH as i32 -1), p.1.max(0).min(HEIGHT as i32 - 1))
    }
    fn check_won(&mut self) {
        self.won_level = true;
        for x in 0..WIDTH as usize {
            for y in 0..HEIGHT as usize {
                match self.tiles[x][y] {
                    Some(GameObject::Box) | Some(GameObject::Goal) | Some(GameObject::GoalPlayer) => { self.won_level = false; return },
                    _ => {},
                } 
            }
        }
    }
    fn dir_for_cursor(&self, ix : i32, iy : i32) -> Option<Direction> {
        let (x,y) = Self::clamp_bounds((ix  / 12, (iy - 17) / 12));
        if (x,y) == self.player {
          return None
        }
        let idx = x - self.player.0;
        let idy = y - self.player.1;
        if idx.abs() > idy.abs() {
            if idx > 0 {
                return Some(Direction::E);
            } else {
                return Some(Direction::W);
            }
        } else {
            if idy > 0 {
                return Some(Direction::S);
            } else {
                return Some(Direction::N);
            }
        }
    }
    fn make_move(&mut self, mov : Direction) {
        self.push_player(mov);
        self.check_won();
    }
}

enum Splash {
    Level,
}

fn main() {
    let sdl_context = sdl2::init().unwrap();
    let video_subsystem = sdl_context.video().unwrap();
    video_subsystem.text_input().start();
    let window = video_subsystem.window("box factory", WIDTH*12, HEIGHT*12 + 16 + 17)
        .position_centered()
        .allow_highdpi()
        .build()
        .unwrap();
    let mut splash = Some(Splash::Level);
    let mut canvas = window.into_canvas().build().unwrap();
    canvas.set_logical_size(WIDTH*12, HEIGHT*12 + 16 +17).unwrap();
    let mut event_subsystem = sdl_context.event().unwrap();
    let mut event_pump = sdl_context.event_pump().unwrap();
    let texture_creator = canvas.texture_creator();
    let mut game = Game::new(&texture_creator);
    let mut level = 1;
    game.set_up_level(level);
    let mut status_level = Graphic::blank(8,1).textured(&texture_creator);
    let mut status_score = Graphic::blank(7,1).textured(&texture_creator);    
    let mut level_splash = Graphic::load_from(Cursor::new(&include_bytes!("../level_splash")[..])).unwrap().textured(&texture_creator);
    level_splash.update_texture(&game.tile_set);
    let mut rate_limiter = FPSManager::new();    
    rate_limiter.set_framerate(40).unwrap();
    let mut micro_mode = false;    
    let mut menu = MenuBar::new(WIDTH*12)
                    .add(Menu::new("GAME",120+32,&texture_creator,&game.tile_set)
                            .add(MenuItem::new("Restart",15, Keycode::N,&texture_creator,&game.tile_set))
                            .add(MenuItem::new("Undo",27, Keycode::Z,&texture_creator,&game.tile_set))
                            .add(MenuItem::separator(104+32, &texture_creator,&game.tile_set))
                            .add(MenuItem::new("Next Level",357, Keycode::F6,&texture_creator,&game.tile_set))
                            .add(MenuItem::new("Previous Level",358, Keycode::F7,&texture_creator,&game.tile_set))
                            .add(MenuItem::separator(104+32, &texture_creator,&game.tile_set))
                            .add(MenuItem::new("Quit", 363, Keycode::F12,&texture_creator,&game.tile_set)))
                    .add(Menu::new("VIEW",112,&texture_creator,&game.tile_set)
                            .add(MenuItem::new("Micro-mode",360, Keycode::F9, &texture_creator, &game.tile_set)));
    let mut cx = 0;
    let mut cy = 0;

    loop {
        if splash.is_none() { 
            if game.won_level {
                level += 1;
                game.set_up_level(level);
                splash = Some(Splash::Level);
            }
        }

        game.draw(&mut canvas);
        let c = game.dir_for_cursor(cx, cy).map_or(0, |x| x.to_index());
        canvas.set_draw_color(BLACK);
        canvas.fill_rect(Rect::new(0,HEIGHT as i32*12 + 17,WIDTH*12,40)).unwrap();
        canvas.set_draw_color(rgba(176,179,172,255));
        canvas.fill_rect(Rect::new(0,HEIGHT as i32*12 + 18,WIDTH*12,16)).unwrap();
        status_level.draw_rect(0,0,8,1,Tile{index:0,fg:TRANSPARENT,bg:TRANSPARENT});
        status_level.draw_text(&("Level ".to_owned() + &level.to_string()),&game.tile_set,0,0,BLACK,TRANSPARENT);
        status_level.update_texture(&game.tile_set);
        status_score.draw_rect(0,0,4,1,Tile{index:0,fg:TRANSPARENT,bg:TRANSPARENT});
        status_score.draw_text(&game.score.to_string(),&game.tile_set,0,0,BLACK,TRANSPARENT);
        status_score.update_texture(&game.tile_set);
        status_level.draw(&mut canvas, (8, HEIGHT as i32 * 12 + 22 ));
        status_score.draw(&mut canvas, (WIDTH as i32 * 12 - 8 - game.score.to_string().len() as i32 * 8, HEIGHT as i32 * 12 +22 ));
        
        if let Some(s) = &splash {
            match *s {
                Splash::Level => { 
                    level_splash.draw(&mut canvas, (WIDTH as i32 * 6 - (11*4), HEIGHT as i32 * 6 - 16 + 17 ));
                    status_level.draw(&mut canvas, (WIDTH as i32 * 6 - (8 * 4) + if level < 10 { 4} else {0}, HEIGHT as i32 * 6 - 4 + 17));
                },
            }
        }
        game.cursor_gfx[c].draw_enlarged(&mut canvas,(cx-10,cy-10));
        menu.draw(&mut canvas);
        
        canvas.present();        
        let mut event_happened = false;
        while !event_happened {
            for event in event_pump.poll_iter() {
                event_happened = true;
                let h = menu.handle_event(event.clone(), &mut event_subsystem);
                match event {
                    _ if h => { sdl_context.mouse().show_cursor(true)},
                    Event::Quit {..} |
                    Event::KeyDown { keycode: Some(Keycode::F12), .. } => {
                        return
                    },
                    Event::KeyDown { keycode: Some(Keycode::F9), ..} => {
                        if micro_mode {
                            micro_mode = false;
                            canvas.window_mut().set_size(WIDTH*12, HEIGHT*12+16 +17).unwrap_or_default();
                        } else {
                            micro_mode = true;
                            canvas.window_mut().set_size(WIDTH*6, (HEIGHT*12+16+17)/2).unwrap_or_default();
                        }
                    },
                    Event::KeyDown {..} if splash.is_some() => {
                        splash = None  
                    }
                    Event::MouseButtonUp {..} if splash.is_some() => {
                        splash = None
                    }
                    Event::KeyDown { keycode: Some(Keycode::N), .. } => {
                        game.set_up_level(level);
                        splash = Some(Splash::Level);
                    },
                    Event::KeyDown { keycode: Some(Keycode::Up), ..} |
                    Event::KeyDown { keycode: Some(Keycode::W), ..}
                    => game.make_move(Direction::N),
                    Event::KeyDown { keycode: Some(Keycode::Down), ..} |
                    Event::KeyDown { keycode: Some(Keycode::S), ..}
                    => game.make_move(Direction::S),
                    Event::KeyDown { keycode: Some(Keycode::Left), ..} |
                    Event::KeyDown { keycode: Some(Keycode::A), ..}
                    => game.make_move(Direction::W),
                    Event::KeyDown { keycode: Some(Keycode::Z), ..}
                    => game.undo(),                    
                    Event::KeyDown { keycode: Some(Keycode::Right), ..} |
                    Event::KeyDown { keycode: Some(Keycode::D), ..}
                    => game.make_move(Direction::E),
                    Event::KeyDown { keycode: Some(Keycode::F6), ..}
                    => { level = (level+1).min(100);
                         game.set_up_level(level);
                         splash = Some(Splash::Level);
                    },
                    Event::KeyDown { keycode: Some(Keycode::F7), ..}
                    => { level = level.max(2)-1;
                         game.set_up_level(level);
                         splash = Some(Splash::Level);
                    }, 
                    Event::MouseButtonUp {..} if cy > 17 => {
                        match game.dir_for_cursor(cx, cy) {
                            None => {},
                            Some(d) => game.make_move(d),
                        }
                    }
                    Event::MouseMotion { x,y,..} if y < 17 => {
                        cx = x;
                        cy = y;
                        sdl_context.mouse().show_cursor(true);
                    }
                    Event::MouseMotion { x,y,..} => {
                        cx = x;
                        cy = y;
                        sdl_context.mouse().show_cursor(false);
                    }
                    _ => {},
                }
            }
            rate_limiter.delay();
        }
    }
}

